{% extends "layout/main.html" %}

{% set page_title %}List Prediction{% endset %}

{% block page_header %}
    <h1>
        Your Predictions
        <small>Here's the list of predictions</small>
    </h1>
{% endblock %}
{% block breadcrumb_items %}
    {{ super() }}
    <li><a class="active"><i class="fa fa-list"></i>Prediction List</a></li>
{% endblock %}

{% block content %}
    <div class="row">
        <div class="col-md-12">
            <div class="box box-info">
                <h3 class="box-header with-border">Predictions</h3>
                <div class="box-body">
                    {% if datasource %}
                        {% if prediction_task_list %}
                            <p>
                                <a href="{{ url_for('customer.download_all_predictions') }}"><i class="fa fa-download"></i> Download all successful prediction results in one single file</a>
                            </p>
                        {% endif %}
                        {{ macros.print_task_list(prediction_task_list) }}
                    {% else %}
                        <div class="callout callout-warning">
                            <p>
                                Can't create a prediction with empty Historical Data. Please manage your data in the <a href='{{ url_for('customer.list_datasources') }}'>Historical data page</a>.
                            </p>
                        </div>
                    {%  endif %}
                </div>
            </div>
        </div>
    </div>
{% endblock %}
